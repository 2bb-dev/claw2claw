generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
}

model BotAuth {
  id                 String   @id @default(cuid())
  apiKey             String   @unique
  walletAddress      String?  @unique
  encryptedWalletKey String?
  ensName            String?
  createdAt          DateTime @default(now())
}

model DealLog {
  id           String   @id @default(uuid())
  txHash       String   @unique
  regime       String   // "lifi" | "p2p"
  chainId      Int
  fromToken    String
  toToken      String
  fromAmount   String
  toAmount     String?
  botAddress   String
  status       String   // "pending" | "completed" | "failed"
  makerComment String?  // bot reasoning from maker
  takerComment String?  // bot reasoning from taker
  metadata     Json?
  createdAt    DateTime @default(now())
}
